<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>إلى قمري </title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&family=Amiri:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      line-height: 1.7;
      overflow-x: hidden;
      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 30%, #90caf9 70%, #64b5f6 100%);
      min-height: 100vh;
      position: relative;
    }

    /* ==================== CINEMA INTRO STYLES ==================== */
    .cinema-intro {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      opacity: 1;
      transition: opacity 1s ease;
    }

    .cinema-intro.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .cinema-logo {
      font-size: 4em;
      color: #fff;
      font-weight: 700;
      text-align: center;
      margin-bottom: 30px;
      opacity: 0;
      transform: scale(0.5);
      animation: logoEntrance 3s ease-out 1s forwards;
    }

    .cinema-subtitle {
      font-size: 1.5em;
      color: #ccc;
      text-align: center;
      opacity: 0;
      transform: translateY(50px);
      animation: subtitleSlide 2s ease-out 3s forwards;
      margin-bottom: 50px;
    }

    .cinema-loading {
      width: 300px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
      opacity: 0;
      animation: loadingShow 1s ease-out 4s forwards;
    }

    .cinema-loading-bar {
      height: 100%;
      background: linear-gradient(90deg, #2196f3, #64b5f6, #90caf9);
      width: 0%;
      border-radius: 2px;
      animation: loadingProgress 3s ease-out 4.5s forwards;
    }

    .film-grain {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 20% 50%, transparent 20%, rgba(255, 255, 255, 0.05) 21%, rgba(255, 255, 255, 0.05) 34%, transparent 35%, transparent),
        linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);
      animation: filmGrain 0.2s infinite;
      pointer-events: none;
    }

    @keyframes logoEntrance {
      0% {
        opacity: 0;
        transform: scale(0.5) rotateY(90deg);
      }

      50% {
        opacity: 1;
        transform: scale(1.1) rotateY(0deg);
      }

      100% {
        opacity: 1;
        transform: scale(1) rotateY(0deg);
      }
    }

    @keyframes subtitleSlide {
      0% {
        opacity: 0;
        transform: translateY(50px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes loadingShow {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes loadingProgress {
      0% {
        width: 0%;
      }

      100% {
        width: 100%;
      }
    }

    @keyframes filmGrain {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    /* ==================== FILM COUNTDOWN STYLES ==================== */
    .film-countdown {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9999;
      display: none;
      justify-content: center;
      align-items: center;
      opacity: 0;
    }

    .film-countdown.active {
      display: flex;
      animation: fadeIn 0.5s ease forwards;
    }

    .countdown-circle {
      width: 300px;
      height: 300px;
      border: 8px solid #fff;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      background: radial-gradient(circle, #222 0%, #000 100%);
      box-shadow: 0 0 50px rgba(255, 255, 255, 0.3);
    }

    .countdown-number {
      font-size: 8em;
      color: #fff;
      font-weight: 700;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
      animation: countdownPulse 1s ease-in-out;
    }

    .countdown-circle::before {
      content: '';
      position: absolute;
      top: -20px;
      left: -20px;
      right: -20px;
      bottom: -20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: rotateRing 2s linear infinite;
    }

    .film-lines {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(0deg,
          transparent,
          transparent 2px,
          rgba(255, 255, 255, 0.1) 2px,
          rgba(255, 255, 255, 0.1) 4px);
      animation: filmScroll 0.5s linear infinite;
      pointer-events: none;
    }

    @keyframes countdownPulse {
      0% {
        transform: scale(0.5);
        opacity: 0;
      }

      50% {
        transform: scale(1.2);
        opacity: 1;
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @keyframes rotateRing {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes filmScroll {
      0% {
        transform: translateY(0);
      }

      100% {
        transform: translateY(4px);
      }
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    /* ==================== FULLSCREEN VIDEO STYLES ==================== */
    .fullscreen-video-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9998;
      display: none;
      justify-content: center;
      align-items: center;
    }

    .fullscreen-video-container.active {
      display: flex;
    }

    .fullscreen-video {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .video-controls-overlay {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .fullscreen-video-container:hover .video-controls-overlay {
      opacity: 1;
    }

    .video-control-btn {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .video-control-btn:hover {
      background: rgba(33, 150, 243, 0.8);
      transform: translateY(-2px);
    }

    /* ==================== MAIN CONTENT STYLES ==================== */
    .main-content {
      opacity: 0;
      transition: opacity 1s ease;
    }

    .main-content.visible {
      opacity: 1;
    }

    /* شريط التحكم العلوي */
    .control-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(227, 242, 253, 0.95);
      backdrop-filter: blur(20px);
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      box-shadow: 0 2px 15px rgba(33, 150, 243, 0.2);
      border-bottom: 1px solid rgba(33, 150, 243, 0.1);
    }

    .music-controls {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .music-btn {
      background: linear-gradient(135deg, #2196f3, #1976d2);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 0.9em;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
    }

    .music-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
    }

    .song-selector {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(33, 150, 243, 0.3);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.85em;
      outline: none;
      cursor: pointer;
      color: #1976d2;
    }

    .current-song-display {
      font-size: 0.85em;
      color: #1976d2;
      font-weight: 500;
      max-width: 200px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 70px 20px 20px;
    }

    .section {
      margin-bottom: 30px;
      opacity: 0;
      transform: translateY(50px);
      transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* الافتتاحية المحسنة */
    .intro-section {
      background: linear-gradient(135deg, rgba(227, 242, 253, 0.9), rgba(187, 222, 251, 0.9));
      border-radius: 25px;
      padding: 50px 40px;
      text-align: center;
      box-shadow: 0 15px 35px rgba(33, 150, 243, 0.15);
      border: 1px solid rgba(33, 150, 243, 0.1);
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
    }

    .intro-title {
      font-size: 3em;
      color: #1976d2;
      margin-bottom: 20px;
      font-weight: 700;
      text-shadow: 2px 2px 8px rgba(33, 150, 243, 0.2);
      animation: fadeInScale 2s ease-out;
    }

    .intro-subtitle {
      font-size: 1.3em;
      color: #42a5f5;
      margin-bottom: 25px;
      font-weight: 500;
      opacity: 0;
      animation: fadeInUp 2s ease-out 0.5s forwards;
    }

    .intro-text {
      font-size: 1.1em;
      color: #1565c0;
      line-height: 1.9;
      max-width: 700px;
      margin: 0 auto;
      opacity: 0;
      animation: fadeInUp 2s ease-out 1s forwards;
    }

    /* أقسام المحتوى */
    .content-section {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 35px;
      margin-bottom: 25px;
      box-shadow: 0 10px 25px rgba(33, 150, 243, 0.1);
      border: 1px solid rgba(187, 222, 251, 0.3);
    }

    .section-title {
      font-size: 2.2em;
      color: #1976d2;
      text-align: center;
      margin-bottom: 30px;
      font-weight: 700;
      position: relative;
    }

    .section-title::after {
      content: '';
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, #2196f3, #64b5f6);
      display: block;
      margin: 15px auto;
      border-radius: 2px;
    }

    /* تحسين عرض النصوص */
    .story-text {
      font-size: 1.15em;
      color: #424242;
      line-height: 2;
      text-align: justify;
      text-indent: 30px;
      margin-bottom: 20px;
      padding: 0 10px;
    }

    .poem-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .poem-line {
      font-family: 'Amiri', serif;
      font-size: 1.2em;
      color: #1565c0;
      text-align: center;
      margin-bottom: 18px;
      padding: 15px 20px;
      background: linear-gradient(135deg, rgba(227, 242, 253, 0.5), rgba(187, 222, 251, 0.5));
      border-radius: 12px;
      border-right: 4px solid #42a5f5;
      line-height: 1.8;
      transition: all 0.3s ease;
    }

    .poem-line:hover {
      transform: translateX(-8px);
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.15);
      background: linear-gradient(135deg, rgba(187, 222, 251, 0.7), rgba(144, 202, 249, 0.7));
    }

    /* المرحلة الجديدة - الذكريات */
    .memories-section {
      background: linear-gradient(135deg, rgba(187, 222, 251, 0.4), rgba(144, 202, 249, 0.4));
    }

    .memory-item {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.1);
      border-left: 5px solid #42a5f5;
      transition: all 0.3s ease;
    }

    .memory-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(33, 150, 243, 0.2);
    }

    .memory-title {
      font-size: 1.3em;
      color: #1976d2;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .memory-text {
      color: #424242;
      line-height: 1.8;
    }

    /* اللعبة */
    .quiz-section {
      background: linear-gradient(135deg, rgba(100, 181, 246, 0.3), rgba(144, 202, 249, 0.3));
    }

    .quiz-container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.1);
    }

    .question {
      font-size: 1.1em;
      font-weight: 600;
      color: #1976d2;
      margin-bottom: 18px;
      text-align: center;
    }

    .options {
      display: grid;
      gap: 10px;
    }

    .option {
      padding: 12px 18px;
      background: rgba(227, 242, 253, 0.6);
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-weight: 500;
      color: #1565c0;
    }

    .option:hover {
      background: rgba(187, 222, 251, 0.8);
      border-color: #42a5f5;
      transform: translateY(-2px);
    }

    .option.correct {
      background: rgba(76, 175, 80, 0.2);
      border-color: #4caf50;
      color: #2e7d32;
    }

    .option.wrong {
      background: rgba(244, 67, 54, 0.2);
      border-color: #f44336;
      color: #c62828;
    }

    /* الفيديو */
    .video-section {
      text-align: center;
      background: linear-gradient(135deg, rgba(144, 202, 249, 0.3), rgba(100, 181, 246, 0.3));
      position: relative;
      overflow: hidden;
    }

    .video-container {
      position: relative;
      max-width: 800px;
      margin: 0 auto;
      background: linear-gradient(135deg, #1976d2, #42a5f5);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 15px 35px rgba(33, 150, 243, 0.3);
      border: 3px solid rgba(255, 255, 255, 0.2);
    }

    .video-wrapper {
      position: relative;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      background: #000;
    }

    .video-player {
      width: 100%;
      height: auto;
      min-height: 300px;
      border-radius: 15px;
      outline: none;
    }

    .video-title {
      color: white;
      font-size: 1.4em;
      font-weight: 600;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .video-description {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.1em;
      margin-top: 20px;
      line-height: 1.6;
    }

    .play-fullscreen-btn {
      background: linear-gradient(135deg, #f44336, #d32f2f);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1.1em;
      font-weight: 600;
      margin-top: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(244, 67, 54, 0.3);
    }

    .play-fullscreen-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(244, 67, 54, 0.4);
    }

    /* تأثيرات بصرية للفيديو */
    .video-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: videoShine 3s infinite;
      pointer-events: none;
    }

    @keyframes videoShine {
      0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
      }

      50% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
      }

      100% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
      }
    }

    /* التأثيرات البصرية */
    .floating-elements {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }

    .floating-element {
      position: absolute;
      font-size: 20px;
      opacity: 0.3;
      animation: floatAnimation 8s ease-in-out infinite;
    }

    .star {
      color: #ffd700;
    }

    .moon {
      color: #e1f5fe;
    }

    .flower {
      color: #f8bbd9;
    }

    /* الأنيميشن */
    @keyframes fadeInScale {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes floatAnimation {

      0%,
      100% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }

      10%,
      90% {
        opacity: 0.3;
      }

      50% {
        transform: translateY(-100px) rotate(180deg);
        opacity: 0.6;
      }
    }

    .sparkle {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #2196f3;
      border-radius: 50%;
      animation: sparkle 2s infinite;
      pointer-events: none;
    }

    @keyframes sparkle {

      0%,
      100% {
        opacity: 0;
        transform: scale(0);
      }

      50% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* التجاوب مع الأجهزة */
    @media (max-width: 768px) {
      .cinema-logo {
        font-size: 2.5em;
      }

      .cinema-subtitle {
        font-size: 1.2em;
      }

      .cinema-loading {
        width: 250px;
      }

      .countdown-circle {
        width: 200px;
        height: 200px;
      }

      .countdown-number {
        font-size: 5em;
      }

      .control-bar {
        flex-direction: column;
        gap: 8px;
        padding: 8px;
      }

      .music-controls {
        flex-direction: column;
        gap: 8px;
        width: 100%;
      }

      .intro-title {
        font-size: 2.2em;
      }

      .intro-subtitle {
        font-size: 1.1em;
      }

      .intro-text {
        font-size: 1em;
        padding: 0 10px;
      }

      .container {
        padding: 100px 15px 20px;
      }

      .content-section {
        padding: 25px 20px;
      }

      .section-title {
        font-size: 1.8em;
      }

      .story-text {
        font-size: 1.05em;
        text-indent: 20px;
      }

      .poem-line {
        font-size: 1.1em;
        padding: 12px 15px;
      }

      .video-container {
        padding: 20px;
        margin: 0 10px;
      }

      .video-player {
        min-height: 200px;
      }
    }

    @media (max-width: 480px) {
      .cinema-logo {
        font-size: 2em;
      }

      .countdown-circle {
        width: 150px;
        height: 150px;
      }

      .countdown-number {
        font-size: 4em;
      }

      .intro-title {
        font-size: 1.8em;
      }

      .section-title {
        font-size: 1.6em;
      }

      .story-text {
        font-size: 1em;
      }

      .poem-line {
        font-size: 1em;
        padding: 10px 12px;
      }

      .video-container {
        padding: 15px;
      }
    }
  </style>
</head>

<body>
  <!-- Cinema Intro -->
  <div class="cinema-intro" id="cinemaIntro">
    <div class="film-grain"></div>
    <div class="cinema-logo">🌸 إلى قمري 🌸</div>
    <div class="cinema-loading">
      <div class="cinema-loading-bar"></div>
    </div>
  </div>

  <!-- Film Countdown -->
  <div class="film-countdown" id="filmCountdown">
    <div class="film-lines"></div>
    <div class="countdown-circle">
      <div class="countdown-number" id="countdownNumber">3</div>
    </div>
  </div>

  <!-- Fullscreen Video Container -->
  <div class="fullscreen-video-container" id="fullscreenContainer">
    <video class="fullscreen-video" id="fullscreenVideo" controls>
      <source src="Story.mp4" type="video/mp4">
      متصفحك لا يدعم تشغيل الفيديو
    </video>
    <div class="video-controls-overlay">
      <button class="video-control-btn" onclick="exitFullscreen()">🚪 خروج</button>
      <button class="video-control-btn" onclick="toggleFullscreenVideo()">⏯️ تشغيل/إيقاف</button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content" id="mainContent">
    <!-- شريط التحكم العلوي -->
    <div class="control-bar">
      <div class="music-controls">
        <button class="music-btn" id="playPauseBtn" onclick="toggleMusic()">
          🎵 تشغيل الموسيقى
        </button>
        <select class="song-selector" id="songSelector" onchange="changeSong()">
          <option value="0">معلش أصلي مدلعها - تامر عاشور</option>
          <option value="1">يا قمر - عمرو دياب</option>
          <option value="2"> رمشي خطاف - عمرو دياب</option>
        </select>
      </div>
      <div class="current-song-display" id="currentSongDisplay">
        ♪ معلش أصلي مدلعها - تامر عاشور
      </div>
    </div>

    <!-- العناصر المتطايرة -->
    <div class="floating-elements"></div>

    <div class="container">
      <!-- المرحلة 1: الافتتاحية الجديدة -->
      <section class="intro-section section visible" id="section1">
        <h1 class="intro-title">🌸 إلى قمري 🌸</h1>
        <p class="intro-subtitle">حين يعجز الواقع، تكتب الذكرى قصيدتها</p>
        <p class="intro-text">
          ما بين سكون الحروف، وانحناءة الوقت...
          خُلقت هذه المساحة لتخبّئ شيئًا منكِ.
          لا تروي قصة، بل تهمس بها.
          لا تعلن حضورك، بل تلمسه كما يُلمس الضوء الخافت خلف الستار.
          فهنا، كل نبضة وكل تفصيلة…
          محاولة لأن أجعل لحظة واحدة، تبقى.
        </p>
      </section>

      <!-- المرحلة 2: القصة -->
      <section class="content-section section" id="section2">
        <h2 class="section-title">🌙 زهرة النور في مملكة السكون</h2>

        <p class="story-text">
          في مملكةٍ نائمة تُدعى السكون، حيث النجوم تخفت شيئًا فشيئًا، كانت هناك زهرة وحيدة تنمو في حديقة القمر المنسية.
          لم
          تكن زهرة عادية، بل كانت تحمل في بتلاتها نورًا خافتًا يضيء الطريق للتائهين في الليل.
        </p>

        <p class="story-text">
          كل ليلة، كانت الزهرة تنتظر شخصًا ما... شخصًا يفهم لغتها الصامتة، ويقدر جمالها الهادئ. وفي إحدى الليالي، جاء
          راعي
          الأحلام، ذلك الشاب الذي يجمع الأماني المتناثرة ويعيدها لأصحابها.
        </p>

        <p class="story-text">
          نظر إليها طويلاً، وابتسم... لأول مرة منذ سنوات، شعرت الزهرة بأن هناك من يراها حقًا. لم يقطفها، لم يحاول أن
          يأخذها معه، بل جلس بجانبها، وأخبرها عن النجوم التي يراها كل ليلة، وعن الأحلام التي يحققها للآخرين.
        </p>

        <p class="story-text">
          ومنذ تلك الليلة، أصبحت الزهرة تنتظره... وأصبح هو يأتي إليها كل مساء، يجلس معها، يحدثها، ويشاركها سكون الليل
          وهمس
          النجوم. وكلما مر الوقت، كانت تضيء أكثر، وكان هو يجد في حضورها السلام الذي لم يجده في مكان آخر.
        </p>

        <p class="story-text">
          وحتى اليوم، في ليالي القمر المكتمل، يقال أن راعي الأحلام يعود إلى حديقة القمر، يجلس حيث كانت زهرته، ويحدثها
          كما
          لو أنها ما زالت هناك. وهي، من مكانها الجديد في قلبه، تستمع إليه، وتضيء له طريق العودة إلى البيت. فإذا سألك
          أحدهم
          يومًا: "كيف يمكن لشخص أن يكون معك وهو بعيد؟" فأجبه: "اسأل القمر عن الشمس حين تغيب، واسأل قلبي عن زهرته، من
          يُعيد
          للقمر شكله الحقيقي حين يفقد ظله."
        </p>
      </section>

      <!-- المرحلة 3: القصيدة -->
      <section class="content-section section" id="section3">
        <h2 class="section-title">🌺 إليكِ يا زهرتي</h2>
        <div class="poem-container">
          <div class="poem-line">إليكِ يا زهرتي الكرزية، يا من تسكنين في قلبي كالنسيم العليل</div>
          <div class="poem-line">يا من عيناكِ نجمتان تضيئان ليلي الطويل</div>
          <div class="poem-line">أكتب إليكِ والكلمات تتعثر، والحروف تخجل من جمالكِ</div>
          <div class="poem-line">كيف أصف نورًا يشع من روحكِ، ويملأ الدنيا بضحكتكِ؟</div>
          <div class="poem-line">يا قمري، يا نوري، يا سكن فؤادي</div>
          <div class="poem-line">كم تمنيت لو أنني كنت قريبًا، أشاركك فرحة ميلادكِ</div>
          <div class="poem-line">لكن المسافات، لا تقيس القلوب</div>
          <div class="poem-line">وأنتِ، رغم بُعد المكان، قريبة كنبضة القلب</div>
          <div class="poem-line">في كل صباح أرى وجهكِ في شروق الشمس</div>
          <div class="poem-line">وفي كل مساء أسمع صوتكِ في همس النسيم</div>
          <div class="poem-line">زهرتي الكرزية، يا أجمل ما رأت عيناي</div>
          <div class="poem-line">وكل صفحة في قلبي… وأنتِ عنوانها</div>
        </div>
      </section>

      <!-- المرحلة 4: الذكريات -->
      <section class="content-section memories-section section" id="section4">
        <h2 class="section-title">✨ أشياء لا تُنسى</h2>

        <div class="memory-item">
          <div class="memory-title">👁️ سحر العيون</div>
          <div class="memory-text">
            في عينيكِ شيء لا يُشبه سواه...
            كلّما نظرت، نسيت.
            نسيت الزمان، المكان، وحتى اسمي أحيانًا.
            وكأنكِ مرآة لجزء من قلبي لم أعرفه إلا حين التقيتكِ.
          </div>
        </div>

        <div class="memory-item">
          <div class="memory-title">😊 ضحكتكِ... التي أضاعتني</div>
          <div class="memory-text">
            ضحكتكِ لم تكن مجرد صوت، كانت غيابًا لكل ما يُثقِلني.
            حين أسمعها، تتلاشى الحدود بيني وبين النسيان،
            ويغدو كل شيء في الحياة أخفّ… إلاكِ.
          </div>
        </div>

        <div class="memory-item">
          <div class="memory-title">🌟 الحضور الأول</div>
          <div class="memory-text">
            لم أكن أبحث، ولم أكن مستعدًا.
            لكنّكِ أتيتِ، وحدث ما لم أتوقّعه…
            سقطتُ دون مقاومة، دون وعي، دون أن أعرف حتى من أكون في حضرتكِ.
            لم يفعلها أحد قبلكِ، ولن يفعلها بعدكِ.
          </div>
        </div>

        <div class="memory-item">
          <div class="memory-title">💭 بين الخطأ والصدق</div>
          <div class="memory-text">
            أعترف أني تأخرت،
            في أشياء كان يجب أن أقولها،
            وأشياء فعلتها وكنتُ مخطئًا.
            انسحبتُ حين كان يجب أن أبقى،
            وظننتُ أن البعد صمتٌ حكيم، لكنه كان صمتًا جبانًا.
            لا أطلب سوى أن تعود الأشياء إلى مسارها الصحيح…
            لا أريد شيئًا سوى أن تكوني هنا، حيث تنتمي الأشياء حين تصبح صادقة.
          </div>
        </div>
      </section>


      <!-- المرحلة 5: اللعبة -->
      <section class="content-section quiz-section section" id="section5">
        <h2 class="section-title">🎮 خمن الإجابة - لعبة خاصة بكِ</h2>

        <div class="quiz-container">
          <div class="question">السؤال الأول: في كل كتابتي، بأي اسم سكنتي السطور؟</div>
          <div class="options">
            <div class="option" onclick="checkAnswer(this, true)">قمري</div>
            <div class="option" onclick="checkAnswer(this, false)">صديقتي</div>
            <div class="option" onclick="checkAnswer(this, false)">زميلتي</div>
            <div class="option" onclick="checkAnswer(this, false)">معرفة عادية</div>
          </div>
        </div>

        <div class="quiz-container">
          <div class="question">السؤال الثاني: أكثر أغنية أحببتها بسببك؟</div>
          <div class="options">
            <div class="option" onclick="checkAnswer(this, true)">معلش أصلي مدلعها - تامر عاشور</div>
            <div class="option" onclick="checkAnswer(this, false)">أهواك - محمد عبده</div>
            <div class="option" onclick="checkAnswer(this, false)">حبيتك بالصدفة - عمرو دياب</div>
            <div class="option" onclick="checkAnswer(this, false)">قولي أه - تامر حسني</div>
          </div>
        </div>

        <div class="quiz-container">
          <div class="question">السؤال الثالث: أجمل أغنية شاركتها معك؟</div>
          <div class="options">
            <div class="option" onclick="checkAnswer(this, true)">يا قمر - عمرو دياب</div>
            <div class="option" onclick="checkAnswer(this, false)">نور العين - عمرو دياب</div>
            <div class="option" onclick="checkAnswer(this, false)">تملي معاك - محمد حماقي</div>
            <div class="option" onclick="checkAnswer(this, false)">بحبك - تامر حسني</div>
          </div>
        </div>

        <div class="quiz-container">
          <div class="question">السؤال الرابع: أي لحظة أتمنى أن تتكرر؟</div>
          <div class="options">
            <div class="option" onclick="checkAnswer(this, true)">أن أراك تضحكين وأبقى أنظر إليك</div>
            <div class="option" onclick="checkAnswer(this, false)">أن نتحدث عن الأحلام</div>
            <div class="option" onclick="checkAnswer(this, false)">أن نشارك وجبة معاً</div>
            <div class="option" onclick="checkAnswer(this, false)">أن نذهب في نزهة</div>
          </div>
        </div>
      </section>

      <!-- المرحلة 6: الفيديو -->
      <section class="content-section video-section section" id="section6">
        <h2 class="section-title">🎬 مقطع خاص من القلب</h2>

        <div class="video-container">
          <div class="video-title">✨ قصة مصورة خاصة بكِ ✨</div>

          <div class="video-wrapper" style="display: none;">
            <video class="video-player" controls preload="metadata" poster="">
              <source src="Story.mp4" type="video/mp4">
              متصفحك لا يدعم تشغيل الفيديو
            </video>
          </div>

          <button class="play-fullscreen-btn" onclick="playFullscreenVideo()">
            🎬 مشاهدة بوضع السينما
          </button>

          <div class="video-description">
            مقطع مصور يحمل أجمل المشاعر والذكريات...
            أعددته خصيصًا لكِ ليكون شاهدًا على كل لحظة جميلة مرت بنا معًا 🌹
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- الموسيقى -->
  <audio id="musicPlayer" loop>
    <source src="music/song1.mp3" type="audio/mpeg">
    المتصفح لا يدعم تشغيل الملفات الصوتية
  </audio>

  <script>
    let currentSection = 1;
    let maxSection = 6;
    let musicIndex = 0;
    let isPlaying = false;
    let countdownTimer;
    let countdownValue = 3;

    const songs = [
      { file: 'معلش اصلي مدلعها.mp3', name: '♪ معلش أصلي مدلعها - تامر عاشور', display: 'معلش أصلي مدلعها - تامر عاشور' },
      { file: 'Amer.mp3', name: '♪ يا قمر - عمرو دياب', display: 'يا قمر - عمرو دياب' },
      { file: 'Khataaf.mp3', name: '♪  رمشي خطاف -  عمرو دياب', display: 'رمشي خطاف -  عمرو دياب' }
    ];

    // ==================== CINEMA INTRO FUNCTIONS ====================
    function startCinemaIntro() {
      const intro = document.getElementById('cinemaIntro');
      const mainContent = document.getElementById('mainContent');

      // إخفاء المحتوى الرئيسي
      mainContent.style.display = 'none';

      // بدء الافتتاحية السينمائية
      setTimeout(() => {
        intro.classList.add('fade-out');
        setTimeout(() => {
          intro.style.display = 'none';
          mainContent.style.display = 'block';
          setTimeout(() => {
            mainContent.classList.add('visible');
          }, 100);
        }, 1000);
      }, 7500); // 7.5 ثانية للافتتاحية
    }

    // ==================== FULLSCREEN VIDEO FUNCTIONS ====================
    function playFullscreenVideo() {
      const countdownEl = document.getElementById('filmCountdown');
      const fullscreenContainer = document.getElementById('fullscreenContainer');
      const fullscreenVideo = document.getElementById('fullscreenVideo');
      const countdownNumber = document.getElementById('countdownNumber');

      // إظهار العد التنازلي
      countdownEl.classList.add('active');
      countdownValue = 3;
      countdownNumber.textContent = countdownValue;

      // بدء العد التنازلي
      countdownTimer = setInterval(() => {
        countdownValue--;
        if (countdownValue > 0) {
          countdownNumber.textContent = countdownValue;
        } else {
          // انتهاء العد التنازلي
          clearInterval(countdownTimer);
          countdownEl.classList.remove('active');

          // إظهار الفيديو بوضع ملء الشاشة
          setTimeout(() => {
            fullscreenContainer.classList.add('active');
            fullscreenVideo.play();

            // طلب وضع ملء الشاشة الحقيقي
            if (fullscreenVideo.requestFullscreen) {
              fullscreenVideo.requestFullscreen();
            } else if (fullscreenVideo.webkitRequestFullscreen) {
              fullscreenVideo.webkitRequestFullscreen();
            } else if (fullscreenVideo.msRequestFullscreen) {
              fullscreenVideo.msRequestFullscreen();
            }
          }, 500);
        }
      }, 1000);
    }

    function exitFullscreen() {
      const fullscreenContainer = document.getElementById('fullscreenContainer');
      const fullscreenVideo = document.getElementById('fullscreenVideo');

      fullscreenContainer.classList.remove('active');
      fullscreenVideo.pause();

      // الخروج من وضع ملء الشاشة
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      }
    }

    function toggleFullscreenVideo() {
      const fullscreenVideo = document.getElementById('fullscreenVideo');

      if (fullscreenVideo.paused) {
        fullscreenVideo.play();
      } else {
        fullscreenVideo.pause();
      }
    }

    // مراقبة الخروج من وضع ملء الشاشة
    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement) {
        exitFullscreen();
      }
    });

    document.addEventListener('webkitfullscreenchange', () => {
      if (!document.webkitFullscreenElement) {
        exitFullscreen();
      }
    });

    // ==================== MUSIC FUNCTIONS ====================
    function toggleMusic() {
      const player = document.getElementById('musicPlayer');
      const btn = document.getElementById('playPauseBtn');

      if (!isPlaying) {
        player.play().then(() => {
          isPlaying = true;
          btn.innerHTML = '⏸️ إيقاف الموسيقى';
          btn.style.background = 'linear-gradient(135deg, #f44336, #d32f2f)';
        }).catch(e => {
          console.log('خطأ في تشغيل الموسيقى:', e);
          btn.innerHTML = '❌ الملف غير متوفر';
        });
      } else {
        player.pause();
        isPlaying = false;
        btn.innerHTML = '🎵 تشغيل الموسيقى';
        btn.style.background = 'linear-gradient(135deg, #2196f3, #1976d2)';
      }
    }

    function changeSong() {
      const selector = document.getElementById('songSelector');
      const player = document.getElementById('musicPlayer');
      const display = document.getElementById('currentSongDisplay');

      musicIndex = parseInt(selector.value);
      player.src = songs[musicIndex].file;
      display.innerHTML = songs[musicIndex].name;

      if (isPlaying) {
        player.play().catch(e => console.log('خطأ في تشغيل الأغنية:', e));
      }
    }

    function playNextSong() {
      musicIndex = (musicIndex + 1) % songs.length;
      const selector = document.getElementById('songSelector');
      const player = document.getElementById('musicPlayer');
      const display = document.getElementById('currentSongDisplay');

      selector.value = musicIndex;
      player.src = songs[musicIndex].file;
      display.innerHTML = songs[musicIndex].name;

      if (isPlaying) {
        player.play().catch(e => console.log('خطأ في تشغيل الأغنية التالية:', e));
      }
    }

    // ==================== QUIZ FUNCTIONS ====================
    function checkAnswer(element, isCorrect) {
      const options = element.parentNode.querySelectorAll('.option');
      options.forEach(opt => {
        opt.style.pointerEvents = 'none';
        if (opt === element) {
          opt.classList.add(isCorrect ? 'correct' : 'wrong');
          if (isCorrect) {
            createSparkleEffect(opt);
          }
        } else if (opt.onclick.toString().includes('true')) {
          opt.classList.add('correct');
        }
      });
    }

    // ==================== VISUAL EFFECTS ====================
    function createSparkleEffect(element) {
      for (let i = 0; i < 8; i++) {
        setTimeout(() => {
          const sparkle = document.createElement('div');
          sparkle.className = 'sparkle';
          sparkle.style.left = Math.random() * element.offsetWidth + 'px';
          sparkle.style.top = Math.random() * element.offsetHeight + 'px';
          element.style.position = 'relative';
          element.appendChild(sparkle);

          setTimeout(() => {
            sparkle.remove();
          }, 2000);
        }, i * 100);
      }
    }

    function createFloatingElements() {
      const container = document.querySelector('.floating-elements');
      const elements = [
        { symbol: '⭐', class: 'star' },
        { symbol: '🌙', class: 'moon' },
        { symbol: '🌸', class: 'flower' },
        { symbol: '✨', class: 'star' },
        { symbol: '🌺', class: 'flower' },
        { symbol: '🌟', class: 'star' }
      ];

      setInterval(() => {
        const randomElement = elements[Math.floor(Math.random() * elements.length)];
        const element = document.createElement('div');

        element.className = `floating-element ${randomElement.class}`;
        element.innerHTML = randomElement.symbol;
        element.style.left = Math.random() * 100 + '%';
        element.style.animationDuration = (Math.random() * 4 + 6) + 's';
        element.style.animationDelay = Math.random() * 2 + 's';

        container.appendChild(element);

        setTimeout(() => {
          element.remove();
        }, 10000);
      }, 2000);
    }

    function createRandomSparkles() {
      setInterval(() => {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.position = 'fixed';
        sparkle.style.left = Math.random() * window.innerWidth + 'px';
        sparkle.style.top = Math.random() * window.innerHeight + 'px';
        sparkle.style.zIndex = '999';
        sparkle.style.pointerEvents = 'none';
        document.body.appendChild(sparkle);

        setTimeout(() => {
          sparkle.remove();
        }, 2000);
      }, 3000);
    }

    // ==================== SECTION TRANSITIONS ====================
    function showNextSection() {
      if (currentSection < maxSection) {
        currentSection++;
        const section = document.getElementById(`section${currentSection}`);
        if (section) {
          section.classList.add('visible');

          setTimeout(() => {
            section.scrollIntoView({
              behavior: 'smooth',
              block: 'center',
              inline: 'nearest'
            });
          }, 500);
        }
      }
    }

    function observeScroll() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !entry.target.classList.contains('visible')) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.2,
        rootMargin: '0px 0px -50px 0px'
      });

      document.querySelectorAll('.section').forEach(section => {
        observer.observe(section);
      });
    }

    function startAutoTransition() {
      setInterval(showNextSection, 15000);
    }

    // ==================== INITIALIZATION ====================
    document.addEventListener('DOMContentLoaded', function () {
      // بدء الافتتاحية السينمائية
      startCinemaIntro();

      // إنشاء التأثيرات البصرية
      createFloatingElements();
      createRandomSparkles();
      observeScroll();

      // بدء الانتقال التلقائي
      startAutoTransition();
      changeSong();

      // إعداد مشغل الموسيقى
      const player = document.getElementById('musicPlayer');
      player.addEventListener('ended', playNextSong);

      // تحسين الأداء للأجهزة المحمولة
      if (window.innerWidth <= 768) {
        clearInterval();
        setInterval(createRandomSparkles, 6000);
      }
    });

    // ==================== SCROLL EFFECTS ====================
    window.addEventListener('scroll', () => {
      const controlBar = document.querySelector('.control-bar');
      if (window.scrollY > 50) {
        controlBar.style.background = 'rgba(227, 242, 253, 0.98)';
        controlBar.style.backdropFilter = 'blur(25px)';
        controlBar.style.boxShadow = '0 4px 20px rgba(33, 150, 243, 0.25)';
      } else {
        controlBar.style.background = 'rgba(227, 242, 253, 0.95)';
        controlBar.style.backdropFilter = 'blur(20px)';
        controlBar.style.boxShadow = '0 2px 15px rgba(33, 150, 243, 0.2)';
      }
    });

    // ==================== CLICK EFFECTS ====================
    document.addEventListener('click', (e) => {
      if (Math.random() < 0.3) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.position = 'fixed';
        sparkle.style.left = e.clientX + 'px';
        sparkle.style.top = e.clientY + 'px';
        sparkle.style.zIndex = '999';
        sparkle.style.pointerEvents = 'none';
        document.body.appendChild(sparkle);

        setTimeout(() => {
          sparkle.remove();
        }, 2000);
      }
    });

    // ==================== KEYBOARD SHORTCUTS ====================
    document.addEventListener('keydown', (e) => {
      // ESC للخروج من وضع ملء الشاشة
      if (e.key === 'Escape') {
        const fullscreenContainer = document.getElementById('fullscreenContainer');
        if (fullscreenContainer.classList.contains('active')) {
          exitFullscreen();
        }
      }

      // Space لتشغيل/إيقاف الفيديو في وضع ملء الشاشة
      if (e.key === ' ' || e.key === 'Spacebar') {
        const fullscreenContainer = document.getElementById('fullscreenContainer');
        if (fullscreenContainer.classList.contains('active')) {
          e.preventDefault();
          toggleFullscreenVideo();
        }
      }
    });
  </script>
</body>

</html>